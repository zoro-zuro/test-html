<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My Website - Test Chatbot</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }
      .content {
        background: white;
        color: #333;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      }
      h1 {
        color: #667eea;
      }
      p {
        color: #666;
        line-height: 1.6;
      }
    </style>
  </head>
  <body>
    <div class="content">
      <h1>Welcome to My Website</h1>
      <p>Test website with embedded chatbot.</p>
      <p><strong>Look bottom-right for chat button! ðŸ’¬</strong></p>
    </div>
<!-- Add this code before closing </body> tag -->
<script>
  (function() {
    var embedUrl = 'http://localhost:3000/embed/bot_mizyu3md_b1tvzpf';
    
    // DNS prefetch
    var link = document.createElement('link');
    link.rel = 'dns-prefetch';
    link.href = embedUrl;
    document.head.appendChild(link);

    // Chat Button
    var button = document.createElement('button');
    // SVG Icon
    var chatIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>';
    var closeIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>';
    
    button.innerHTML = chatIcon;
    button.style.cssText = 'position:fixed;bottom:24px;right:24px;width:56px;height:56px;border-radius:50%;border:none;background:linear-gradient(135deg, #2563eb 0%, #4f46e5 100%);color:white;cursor:pointer;box-shadow:0 4px 12px rgba(37,99,235,0.3);z-index:999999;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;padding:0;';
    
    button.onmouseover = function() { this.style.transform = 'scale(1.05) translateY(-2px)'; this.style.boxShadow = '0 6px 16px rgba(37,99,235,0.4)'; };
    button.onmouseout = function() { this.style.transform = 'scale(1) translateY(0)'; this.style.boxShadow = '0 4px 12px rgba(37,99,235,0.3)'; };

    var iframe = null;
    var isOpen = false;

    button.onclick = function() {
      isOpen = !isOpen;
      
      if (isOpen && !iframe) {
        iframe = document.createElement('iframe');
        iframe.src = embedUrl;
        iframe.style.cssText = 'position:fixed;bottom:96px;right:24px;width:400px;height:600px;max-height:80vh;border:none;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.15);z-index:999999;background:white;opacity:0;transition:opacity 0.3s ease;';
        document.body.appendChild(iframe);
        
        // Fade in
        requestAnimationFrame(() => iframe.style.opacity = '1');
      } 
      
      if (iframe) {
        iframe.style.display = isOpen ? 'block' : 'none';
        iframe.style.opacity = isOpen ? '1' : '0';
      }
      
      button.innerHTML = isOpen ? closeIcon : chatIcon;
      button.style.background = isOpen ? '#1f2937' : 'linear-gradient(135deg, #2563eb 0%, #4f46e5 100%)';
    };

    document.body.appendChild(button);
  })();
</script>
  </body>
</html>


